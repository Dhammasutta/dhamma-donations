<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÑ‡∏ü‡∏•‡πå‡∏ò‡∏£‡∏£‡∏°‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ</title>
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
      background: #fffef6;
      color: #4e342e;
      padding: 15px;
      max-width: 900px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #6d4c41;
      margin-bottom: 2rem;
    }
    .file-entry {
      background: #f9f5ec;
      border: 1px solid #d7ccc8;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .file-entry h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.2rem;
      color: #3e2723;
    }
    .file-meta {
      font-size: 0.95rem;
      color: #5d4037;
      margin-bottom: 0.5rem;
    }
    .file-meta span {
      margin-right: 1rem;
    }
    .file-preview {
      margin-top: 0.5rem;
      margin-bottom: 0.8rem;
    }
    iframe, audio, video {
      width: 100%;
      border-radius: 8px;
    }
    .download-link a {
      display: inline-block;
      background: #6d4c41;
      color: white;
      padding: 6px 14px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 0.95rem;
    }
    .download-link a:hover {
      background: #5d4037;
    }
  </style>
</head>
<body>
  <h1>üìÅ ‡πÑ‡∏ü‡∏•‡πå‡∏ò‡∏£‡∏£‡∏°‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ</h1>
  <div id="file-list">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

  <script>
    const fileList = document.getElementById('file-list');

    fetch('donations.json')
      .then(response => response.json())
      .then(data => {
        fileList.innerHTML = '';
        data.forEach(file => {
          const icon = file.type === 'pdf' ? 'üìÑ' : file.type === 'mp3' ? 'üéß' : file.type === 'mp4' ? 'üéûÔ∏è' : 'üóÇÔ∏è';

          let preview = '';
          if (file.type === 'pdf') {
            preview = `<iframe src="${file.url}" height="600px"></iframe>`;
          } else if (file.type === 'mp3') {
            preview = `<audio controls><source src="${file.url}" type="audio/mpeg"></audio>`;
          } else if (file.type === 'mp4') {
            preview = `<video controls><source src="${file.url}" type="video/mp4"></video>`;
          }

          const html = `
            <div class="file-entry">
              <h3>${icon} ${file.title}</h3>
              <div class="file-meta">
                <span><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> ${file.type.toUpperCase()}</span>
                <span><strong>‡∏Ç‡∏ô‡∏≤‡∏î:</strong> ${file.filesize}</span>
                <span><strong>‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ:</strong> ${file.donor}</span>
              </div>
              <div class="file-preview">${preview}</div>
              <div class="download-link">
                <a href="${file.url}" target="_blank" download>‚¨áÔ∏è ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</a>
              </div>
            </div>
          `;
          fileList.innerHTML += html;
        });
      })
      .catch(error => {
        fileList.innerHTML = '<p style="color:red;">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ</p>';
        console.error('Error loading donations.json:', error);
      });
  </script>
</body>
</html>
